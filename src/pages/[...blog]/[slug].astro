---
import { getCollection } from 'astro:content';
import Layout from '~/layouts/PageLayout.astro';
import BlogContent from '~/components/blog/SinglePost.astro';

export async function getStaticPaths() {
  const posts = await getCollection('post');
  return posts.map((post) => ({
    params: { slug: post.slug },
    props: { post },
  }));
}

const { post } = Astro.props;
const metadata = {
  title: post.title,
  description: post.excerpt,
};
---

<Layout metadata={metadata}>
  <BlogContent post={post} />
</Layout>
